package de.thwildau.asa.rest;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import android.util.Log;
import de.thwildau.asa.AsaActivity;

public class TrafficManager {
	private static String baseUrl = "http://jphil.de:8080/ASA/TRAFFIC";
	
	public static List<Traffic> getAllRequests() {
		ArrayList<POI> list = new ArrayList<POI>();
		StringBuilder url = new StringBuilder();
		url.append(baseUrl);
		url.append("?lat=" + AsaActivity.currentLocationLatitude);
		url.append("&long=" + AsaActivity.currentLocationLongitude);
		String dist = String.valueOf(AsaActivity.asaDistanceSpinner.getSelectedItem());
		url.append("&dist=" + dist.substring(0, dist.length()-3));
		String sprit = String.valueOf(AsaActivity.asaFuelSpinner.getSelectedItem());
		url.append("&sprit=" + sprit);
		OSLCDataSet dataset = new OSLCDataSet(url.toString(), "user", "user", true);
		
		for (String path : dataset.getAllPaths()) {
			Log.e("allPath", "allPath: " + path );
//			System.out.println(path);
		}
		
		for (OSLCEntry entry : dataset) {
			POI poi = new POI(entry);
			list.add(poi);
		}
		System.out.println(list); 
		Collections.sort(list);
		return list; 
	}

}
